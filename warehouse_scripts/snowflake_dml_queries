CREATE DATABASE IF NOT EXISTS MAILSHAKE_DB;

DROP TABLE IF EXISTS CAMPAIGN_STAGING;

USE DATABASE MAILSHAKE_DB;

CREATE OR REPLACE TABLE CAMPAIGN_STAGING (
    OBJECT VARCHAR,
    ID NUMBER(38,0),
    TITLE VARCHAR,
    CREATED VARCHAR,
    ISARCHIVED BOOLEAN,
    ISPAUSED BOOLEAN,
    WIZARDSTATUS NUMBER(10,0),
    URL VARCHAR,

    SENDER_OBJECT VARCHAR,
    SENDER_ID NUMBER(38,0),
    SENDER_EMAILADDRESS VARCHAR,
    SENDER_FROMNAME VARCHAR,
    SENDER_CREATED VARCHAR,

    MESSAGES_ID NUMBER(38,0),
    MESSAGES_ISPAUSED BOOLEAN,
    MESSAGES_OBJECT VARCHAR,
    MESSAGES_REPLYTOID NUMBER(38,0),
    MESSAGES_SUBJECT VARCHAR,
    MESSAGES_TYPE VARCHAR,

    TEAM_ID_COL VARCHAR,
    SOURCE_DATE_COL VARCHAR,
    PROCESSING_TIMESTAMP TIMESTAMP_NTZ,
    PROCESSING_DATE DATE,
    LOAD_TYPE VARCHAR
);


DROP TABLE IF EXISTS ACTIVITY_OPEN;
DROP TABLE IF EXISTS ACTIVITY_OPEN_STAGING;


CREATE OR REPLACE TABLE ACTIVITY_OPEN_STAGING (
    OBJECT VARCHAR,
    ID NUMBER(38,0),
    ACTIONDATE VARCHAR,
    ISDUPLICATE BOOLEAN,

    RECIPIENT_OBJECT VARCHAR,
    RECIPIENT_ID NUMBER(38,0),
    RECIPIENT_EMAILADDRESS VARCHAR,
    RECIPIENT_FULLNAME VARCHAR,
    RECIPIENT_CREATED VARCHAR,
    RECIPIENT_ISPAUSED BOOLEAN,
    RECIPIENT_CONTACTID NUMBER(38,0),
    RECIPIENT_FIRST VARCHAR,
    RECIPIENT_LAST VARCHAR,

    RECIPIENT_FIELDS_LINK VARCHAR,
    RECIPIENT_FIELDS_STATUS VARCHAR,
    RECIPIENT_FIELDS_FIRST VARCHAR,
    RECIPIENT_FIELDS_POSITION VARCHAR,
    RECIPIENT_FIELDS_DATE_APPLIED VARCHAR,
    RECIPIENT_FIELDS_ACCOUNT VARCHAR,
    RECIPIENT_FIELDS_PHONENUMBER VARCHAR,
    RECIPIENT_FIELDS_FACEBOOKURL VARCHAR,
    RECIPIENT_FIELDS_INSTAGRAMID VARCHAR,
    RECIPIENT_FIELDS_LINKEDINURL VARCHAR,
    RECIPIENT_FIELDS_TWITTERID VARCHAR,

    CAMPAIGN_OBJECT VARCHAR,
    CAMPAIGN_ID NUMBER(38,0),
    CAMPAIGN_TITLE VARCHAR,
    CAMPAIGN_WIZARDSTATUS NUMBER(10,0),

    PARENT_OBJECT VARCHAR,
    PARENT_ID NUMBER(38,0),
    PARENT_TYPE VARCHAR,
    PARENT_MESSAGE_OBJECT VARCHAR,
    PARENT_MESSAGE_ID NUMBER(38,0),
    PARENT_MESSAGE_TYPE VARCHAR,
    PARENT_MESSAGE_SUBJECT VARCHAR,
    PARENT_MESSAGE_REPLYTOID NUMBER(38,0),

    TEAM_ID_COL VARCHAR,
    SOURCE_DATE_COL VARCHAR,
    PROCESSING_TIMESTAMP TIMESTAMP_NTZ,
    PROCESSING_DATE DATE,
    LOAD_TYPE VARCHAR
);

DROP TABLE IF EXISTS ACTIVITY_REPLY_STAGING;

CREATE OR REPLACE TABLE ACTIVITY_REPLY_STAGING (
    OBJECT VARCHAR,
    ID NUMBER(38,0),
    ACTIONDATE VARCHAR,
    TYPE VARCHAR,
    SUBJECT VARCHAR,

    EXTERNALID VARCHAR,
    EXTERNALRAWMESSAGEID VARCHAR,
    EXTERNALCONVERSATIONID VARCHAR,

    RAWBODY VARCHAR,
    BODY VARCHAR,
    PLAINTEXTBODY VARCHAR,

    RECIPIENT_OBJECT VARCHAR,
    RECIPIENT_ID NUMBER(38,0),
    RECIPIENT_EMAILADDRESS VARCHAR,
    RECIPIENT_FULLNAME VARCHAR,
    RECIPIENT_CREATED VARCHAR,
    RECIPIENT_ISPAUSED BOOLEAN,
    RECIPIENT_CONTACTID NUMBER(38,0),
    RECIPIENT_FIRST VARCHAR,
    RECIPIENT_LAST VARCHAR,

    RECIPIENT_FIELDS_LINK VARCHAR,
    RECIPIENT_FIELDS_STATUS VARCHAR,
    RECIPIENT_FIELDS_FIRST VARCHAR,
    RECIPIENT_FIELDS_POSITION VARCHAR,
    RECIPIENT_FIELDS_DATE_APPLIED VARCHAR,
    RECIPIENT_FIELDS_ACCOUNT VARCHAR,
    RECIPIENT_FIELDS_PHONENUMBER VARCHAR,
    RECIPIENT_FIELDS_FACEBOOKURL VARCHAR,
    RECIPIENT_FIELDS_INSTAGRAMID VARCHAR,
    RECIPIENT_FIELDS_LINKEDINURL VARCHAR,
    RECIPIENT_FIELDS_TWITTERID VARCHAR,

    CAMPAIGN_OBJECT VARCHAR,
    CAMPAIGN_ID NUMBER(38,0),
    CAMPAIGN_TITLE VARCHAR,
    CAMPAIGN_WIZARDSTATUS NUMBER(10,0),

    PARENT_OBJECT VARCHAR,
    PARENT_ID NUMBER(38,0),
    PARENT_TYPE VARCHAR,

    PARENT_MESSAGE_OBJECT VARCHAR,
    PARENT_MESSAGE_ID NUMBER(38,0),
    PARENT_MESSAGE_TYPE VARCHAR,
    PARENT_MESSAGE_SUBJECT VARCHAR,
    PARENT_MESSAGE_REPLYTOID NUMBER(38,0),

    FROM_OBJECT VARCHAR,
    FROM_ADDRESS VARCHAR,
    FROM_FULLNAME VARCHAR,
    FROM_FIRST VARCHAR,
    FROM_LAST VARCHAR,

    TEAM_ID_COL VARCHAR,
    SOURCE_DATE_COL VARCHAR,
    PROCESSING_TIMESTAMP VARCHAR,
    PROCESSING_DATE DATE,
    LOAD_TYPE VARCHAR
);

SELECT * FROM ACTIVITY_REPLY_STAGING

DROP TABLE IF EXISTS ACTIVITY_SENT_STAGING;

CREATE OR REPLACE TABLE ACTIVITY_SENT_STAGING (
    OBJECT VARCHAR,
    ID NUMBER(38,0),
    ACTIONDATE VARCHAR,
    TYPE VARCHAR,
    EXCLUDEBODY BOOLEAN,

    TO_ADDRESS VARCHAR,
    TO_FIRST VARCHAR,
    TO_FULLNAME VARCHAR,
    TO_LAST VARCHAR,
    TO_OBJECT VARCHAR,

    SUBJECT VARCHAR,
    EXTERNALID VARCHAR,
    EXTERNALRAWMESSAGEID VARCHAR,
    EXTERNALCONVERSATIONID VARCHAR,

    RAWBODY VARCHAR,
    BODY VARCHAR,
    PLAINTEXTBODY VARCHAR,

    RECIPIENT_OBJECT VARCHAR,
    RECIPIENT_ID NUMBER(38,0),
    RECIPIENT_EMAILADDRESS VARCHAR,
    RECIPIENT_FULLNAME VARCHAR,
    RECIPIENT_CREATED VARCHAR,
    RECIPIENT_ISPAUSED BOOLEAN,
    RECIPIENT_FIRST VARCHAR,
    RECIPIENT_LAST VARCHAR,

    RECIPIENT_FIELDS_ACCOUNT VARCHAR,
    RECIPIENT_FIELDS_PHONENUMBER VARCHAR,
    RECIPIENT_FIELDS_FACEBOOKURL VARCHAR,
    RECIPIENT_FIELDS_INSTAGRAMID VARCHAR,
    RECIPIENT_FIELDS_LINKEDINURL VARCHAR,
    RECIPIENT_FIELDS_TWITTERID VARCHAR,
    RECIPIENT_FIELDS_LINK VARCHAR,
    RECIPIENT_FIELDS_POSITION VARCHAR,
    RECIPIENT_FIELDS_DATE_APPLIED VARCHAR,
    RECIPIENT_FIELDS_STATUS VARCHAR,

    CAMPAIGN_OBJECT VARCHAR,
    CAMPAIGN_ID NUMBER(38,0),
    CAMPAIGN_TITLE VARCHAR,
    CAMPAIGN_WIZARDSTATUS NUMBER(10,0),

    MESSAGE_OBJECT VARCHAR,
    MESSAGE_ID NUMBER(38,0),
    MESSAGE_TYPE VARCHAR,
    MESSAGE_SUBJECT VARCHAR,
    MESSAGE_REPLYTOID NUMBER(38,0),

    FROM_OBJECT VARCHAR,
    FROM_ADDRESS VARCHAR,
    FROM_FULLNAME VARCHAR,
    FROM_FIRST VARCHAR,
    FROM_LAST VARCHAR,

    TEAM_ID_COL VARCHAR,
    SOURCE_DATE_COL VARCHAR,
    PROCESSING_TIMESTAMP TIMESTAMP_NTZ,
    PROCESSING_DATE DATE,
    LOAD_TYPE VARCHAR
);

DROP TABLE IF EXISTS CREATED_LEADS_STAGING;

CREATE OR REPLACE TABLE CREATED_LEADS_STAGING (
    OBJECT VARCHAR,
    ID NUMBER(38,0),
    CREATED VARCHAR,
    OPENEDDATE VARCHAR,
    LASTSTATUSCHANGEDATE VARCHAR,
    ANNOTATION VARCHAR,
    STATUS VARCHAR,

    RECIPIENT_OBJECT VARCHAR,
    RECIPIENT_ID NUMBER(38,0),
    RECIPIENT_EMAILADDRESS VARCHAR,
    RECIPIENT_FULLNAME VARCHAR,
    RECIPIENT_CREATED VARCHAR,
    RECIPIENT_ISPAUSED BOOLEAN,
    RECIPIENT_CONTACTID NUMBER(38,0),
    RECIPIENT_FIRST VARCHAR,
    RECIPIENT_LAST VARCHAR,

    RECIPIENT_FIELDS_LINK VARCHAR,
    RECIPIENT_FIELDS_FIRST VARCHAR,
    RECIPIENT_FIELDS_STATUS VARCHAR,
    RECIPIENT_FIELDS_POSITION VARCHAR,
    RECIPIENT_FIELDS_DATE_APPLIED VARCHAR,
    RECIPIENT_FIELDS_ACCOUNT VARCHAR,
    RECIPIENT_FIELDS_PHONENUMBER VARCHAR,
    RECIPIENT_FIELDS_FACEBOOKURL VARCHAR,
    RECIPIENT_FIELDS_INSTAGRAMID VARCHAR,
    RECIPIENT_FIELDS_LINKEDINURL VARCHAR,
    RECIPIENT_FIELDS_TWITTERID VARCHAR,

    CAMPAIGN_OBJECT VARCHAR,
    CAMPAIGN_ID NUMBER(38,0),
    CAMPAIGN_TITLE VARCHAR,
    CAMPAIGN_WIZARDSTATUS NUMBER(10,0),

    ASSIGNEDTO_OBJECT VARCHAR,
    ASSIGNEDTO_ID NUMBER(38,0),
    ASSIGNEDTO_EMAILADDRESS VARCHAR,
    ASSIGNEDTO_FULLNAME VARCHAR,
    ASSIGNEDTO_FIRST VARCHAR,
    ASSIGNEDTO_LAST VARCHAR,

    TEAM_ID_COL VARCHAR,
    SOURCE_DATE_COL VARCHAR,
    PROCESSING_TIMESTAMP TIMESTAMP_NTZ,
    PROCESSING_DATE DATE,
    LOAD_TYPE VARCHAR
);
